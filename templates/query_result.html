{% extends 'bootstrap/base.html' %}

{% block content %}
<style>
table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {background-color: #f2f2f2;}
</style>
<div class="container">
<h1> Oathbreaker Budgets</h1>
<form action="" method="post" novalidate>
    {{ form.hidden_tag() }}
    <p>
        {{ form.url.label }}<br>
        {{ form.url(size=32) }}<br>
    </p>
    <p>{{ form.submit() }}</p>
</form>

<hr>
{% with messages = get_flashed_messages() %}
{% if messages %}
<ul>
    {% for message in messages %}
    <li>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}
{% endwith %}

<table>
    <tr>
        <th>Deck</th>
        <th>User</th>
        <th>Commander</th>
        <th>Commander Price</th>
        <th>Deck Price</th>
        <th>Card Count</th>
        <th>Free Cards</th>
    </tr>
    {% for result in results %}
    <tr>
        <td><a href="{{ result[2]}}">{{ result[0] }}</a></td>
        <td>{{ result[1] }}</td>
        <td>{{ result[3] }}</td>
        <td>{{ result[4] }}</td>
        <td>{{ result[5] }}</td>
        <td>{{ result[6] }}</td>
        <td>{{ result[7] }}</td>
    </tr>
    {% endfor %}
</table>


<form action="" method="post" novalidate>
    {{ form.hidden_tag() }}
    <p>{{ update_form.submit() }}</p>
</form>

<a href="/test"> test</a>

 <a href="javascript:translate();">DO NOT PRESS</a>

    </div>
{% endblock %}

{% block scripts %}
    {{ super() }}
    <script>
        function translate() {
            console.log('Hello World!');
            $.post('/test').done(function(response) {
                console.log(response);
            })
            };
    </script>
{% endblock %}